<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>교재 등록 | RAON</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .post-box { max-width:540px; margin:40px auto; background:#fff; border-radius:15px; box-shadow:0 1px 8px rgba(0,0,0,0.08); padding:34px 35px 34px 35px;}
        .post-title {font-size:1.29em;font-weight:bold;margin-bottom:25px;letter-spacing:2px;}
        .post-btn-row {display:flex;gap:12px;margin-bottom:23px;}
        .post-type-btn {
            border-radius:8px; border:1.5px solid #ffc093; background:#fff;
            color:#c87d2e; font-weight:bold; font-size:1.07em;
            width:110px; height:40px; cursor:pointer; transition:.13s;
        }
        .post-type-btn.active { background:#ffc093; color:#fff;}
        .post-filter { display:flex; gap:10px; margin-bottom:16px;}
        .input-row {margin-bottom:16px;}
        .input-row label {display:block;font-size:1em;margin-bottom:7px;font-weight:bold;color:#333;}
        .input-row input, .input-row textarea {width:100%;border-radius:7px;border:1px solid #ffc093;padding:8px;font-size:1.05em;}
        .input-row textarea {resize:vertical;min-height:80px;}
        .submit-btn {width:100%;margin-top:15px;height:44px;font-size:1.1em;font-weight:bold;background:#ffc093;color:#fff;border:none;border-radius:8px;cursor:pointer;}
    </style>
</head>
<body>
<div class="topnav">
    <div class="logo" onclick="location.href='index.php'">RAON</div>
    <div style="flex:1;"></div>
    <a href="mypage.php"><button>마이페이지</button></a>
    <a href="logout.php"><button>로그아웃</button></a>
</div>
<div class="post-box">
    <div class="post-title">교재 등록</div>
    <form action="post_book.php" method="post" enctype="multipart/form-data" id="regForm">
        <div class="post-btn-row">
            <button type="button" id="btnMajor" class="post-type-btn">전공</button>
            <button type="button" id="btnLiberal" class="post-type-btn">교양</button>
        </div>
        <input type="hidden" name="category" id="categoryInput">
        <div id="major-filter" class="post-filter" style="display:none;">
            <select id="gradeSelect" name="grade" class="filter-sel">
                <option value="">학년</option>
                <option value="1">1학년</option>
                <option value="2">2학년</option>
                <option value="3">3학년</option>
                <option value="4">4학년</option>
                <option value="5">5학년</option>
            </select>
            <div id="majorSelectBtn" class="filter-sel" style="width:160px;position:relative;user-select:none;cursor:pointer;">학과</div>
            <input type="hidden" id="selectedMajor" name="major">
            <div id="majorDropdown" style="display:none;position:absolute;z-index:999;background:#fff;box-shadow:0 2px 7px rgba(0,0,0,0.14);border-radius:7px;padding:10px 0;min-width:320px;top:32px;">
                <div style="display:flex;">
                  <div id="collegeList" style="min-width:110px;border-right:1px solid #f0c6a7;padding:0 8px;"></div>
                  <div id="deptList" style="min-width:150px;padding:0 8px;"></div>
                </div>
            </div>
        </div>
        <div id="liberal-filter" class="post-filter" style="display:none;">
            <select id="liberalType" name="subject" class="filter-sel">
                <option value="">교양 종류</option>
                <option value="호심교양">호심교양</option>
                <option value="균형교양">균형교양</option>
            </select>
        </div>
        <div class="input-row">
            <label>책 제목</label>
            <input type="text" name="title" required>
        </div>
        <div class="input-row">
            <label>저자</label>
            <input type="text" name="author" required>
        </div>
        <div class="input-row">
            <label>출판사</label>
            <input type="text" name="publisher" required>
        </div>
        <div class="input-row">
            <label>판매 가격</label>
            <input type="number" name="selling_price" min="0" required>
        </div>
        <div class="input-row">
            <label>상세 설명</label>
            <textarea name="description"></textarea>
        </div>
        <div class="input-row">
            <label>책 사진 (최대 5장, 첫 번째가 대표사진)</label>
            <input type="file" name="images[]" accept="image/*" multiple required>
        </div>
        <button type="submit" class="submit-btn">등록하기</button>
    </form>
</div>
<script src="script.js"></script>
<script>
// 전공/교양 버튼 동작
const btnMajor = document.getElementById('btnMajor');
const btnLiberal = document.getElementById('btnLiberal');
const majorFilter = document.getElementById('major-filter');
const liberalFilter = document.getElementById('liberal-filter');
const categoryInput = document.getElementById('categoryInput');
btnMajor.onclick = function() {
    btnMajor.classList.add('active');
    btnLiberal.classList.remove('active');
    majorFilter.style.display = '';
    liberalFilter.style.display = 'none';
    categoryInput.value = '전공';
};
btnLiberal.onclick = function() {
    btnLiberal.classList.add('active');
    btnMajor.classList.remove('active');
    liberalFilter.style.display = '';
    majorFilter.style.display = 'none';
    categoryInput.value = '교양';
};
// 최초 디폴트 (전공)
btnMajor.click();
</script>
</body>
</html>
